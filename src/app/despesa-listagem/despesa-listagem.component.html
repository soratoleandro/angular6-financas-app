<main class="container">

  <h3 class="mt-4">
    Lista de despesas
  </h3>

  <div class="row">
    <div class="caixa-central">
      <legend>Filtros</legend>

      <form class="col-md-10">

        <div class="form-group">
          <input type="text" class="form-control" placeholder="Pesquisar" [(ngModel)]="searchTerm" name="searchTerm">
        </div>

      </form>
    </div>
  </div>
  <div class="row">
    <form class="col-md-10">
      <div class="form-group">
        <a routerLink="/cadastrar-despesa" class="btn btn-success">
          <span class="fa fa-plus" aria-hidden="true"></span>
          Cadastrar despesa
        </a>

        <a routerLink="/cadastrar-despesa-tipo" class="btn btn-success ml-2">
          <span class="fa fa-plus" aria-hidden="true"></span>
          Cadastrar tipo de despesa
        </a>
      </div>
    </form>
    <form class="col-md-10">
      <div class="form-group">
        <table class="table table-sm table-striped table-hover">
          <thead>
            <tr>
              <th scope="col" class="col-w-3"></th>
              <th scope="col" class="col-w-3"></th>
              <th scope="col">Dia</th>
              <th scope="col">Tipo</th>
              <th scope="col">Descrição</th>
              <th scope="col">Valor</th>
              <th scope="col" class="col-w-3">Pago</th>
            </tr>
          </thead>
          <tbody>

            <tr *ngFor="let expense of listaExpense|filter:searchTerm">
              <td>
                <a (click)="ApagarExpense(expense)" style="cursor: pointer;" title="Apagar despesa">
                  <i class="fa fa-trash red" aria-hidden="true"></i>
                </a>
              </td>
              <td>
                <a [routerLink]="'/editar-despesa/' + expense.Id" title="Editar despesa">
                  <i class="fa fa-edit" aria-hidden="true"></i>
                </a>
              </td>
              <td>{{expense.TargetDate | date:'dd/MM/yyyy'}}</td>
              <td>{{expense.ExpenseType.Name}}</td>
              <td>{{expense.Name}}</td>
              <td>{{expense.Value | currency:'€' }}</td>
              <td>
                <div *ngIf="expense.Payed" class="t-center">
                  <i class="fa fa-check green" aria-hidden="true"></i>
                </div>
                <div *ngIf="!expense.Payed" class="t-center">
                  <i class="fa fa-times red" aria-hidden="true"></i>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

</main>